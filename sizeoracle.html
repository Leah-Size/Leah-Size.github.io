 <!DOCTYPE html>
<html>
<style>
.column {
  float: left;
  width: 50%;
}

/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  clear: both;
}


</style>
<script>



function loadFunction(){
  
  document.getElementById("asizemagdisplay").innerHTML = getDisplaySizePrefrence(parseInt(document.getElementById("asizemag").value));
  document.getElementById("asizemag").oninput = function() {
      document.getElementById("asizemagdisplay").innerHTML = getDisplaySizePrefrence(parseInt(this.value));
  }


  document.getElementById("amaxbigresult").innerHTML = getDisplaySize(parseInt(document.getElementById("amaxbig").value));
  document.getElementById("amaxbig").oninput = function() {
      document.getElementById("amaxbigresult").innerHTML = getDisplaySize(parseInt(this.value));
  }

  document.getElementById("aminbigresult").innerHTML = getDisplaySize(parseInt(document.getElementById("aminbig").value));
  document.getElementById("aminbig").oninput = function() {
      document.getElementById("aminbigresult").innerHTML = getDisplaySize(parseInt(this.value));
  }

  document.getElementById("amaxsmallresult").innerHTML = getDisplaySize(-1*parseInt(document.getElementById("amaxsmall").value));
  document.getElementById("amaxsmall").oninput = function() {
      document.getElementById("amaxsmallresult").innerHTML = getDisplaySize(-1*parseInt(this.value));
  }

document.getElementById("aminsmallresult").innerHTML = getDisplaySize(-1*parseInt(document.getElementById("aminsmall").value));
document.getElementById("aminsmall").oninput = function() {
    document.getElementById("aminsmallresult").innerHTML = getDisplaySize(-1*parseInt(this.value));
}

//====================

document.getElementById("bsizemagdisplay").innerHTML = getDisplaySizePrefrence(parseInt(document.getElementById("bsizemag").value));
  document.getElementById("bsizemag").oninput = function() {
      document.getElementById("bsizemagdisplay").innerHTML = getDisplaySizePrefrence(parseInt(this.value));
  }


  document.getElementById("bmaxbigresult").innerHTML = getDisplaySize(parseInt(document.getElementById("bmaxbig").value));
  document.getElementById("bmaxbig").oninput = function() {
      document.getElementById("bmaxbigresult").innerHTML = getDisplaySize(parseInt(this.value));
  }

  document.getElementById("bminbigresult").innerHTML = getDisplaySize(parseInt(document.getElementById("bminbig").value));
  document.getElementById("bminbig").oninput = function() {
      document.getElementById("bminbigresult").innerHTML = getDisplaySize(parseInt(this.value));
  }

  document.getElementById("bmaxsmallresult").innerHTML = getDisplaySize(-1*parseInt(document.getElementById("bmaxsmall").value));
  document.getElementById("bmaxsmall").oninput = function() {
      document.getElementById("bmaxsmallresult").innerHTML = getDisplaySize(-1*parseInt(this.value));
  }

document.getElementById("bminsmallresult").innerHTML = getDisplaySize(-1*parseInt(document.getElementById("bminsmall").value));
document.getElementById("bminsmall").oninput = function() {
    document.getElementById("bminsmallresult").innerHTML = getDisplaySize(-1*parseInt(this.value));
}

  
}

function xmur3(str) {
    for(var i = 0, h = 1779033703 ^ str.length; i < str.length; i++)
        h = Math.imul(h ^ str.charCodeAt(i), 3432918353),
        h = h << 13 | h >>> 19;
    return function() {
        h = Math.imul(h ^ h >>> 16, 2246822507);
        h = Math.imul(h ^ h >>> 13, 3266489909);
        return (h ^= h >>> 16) >>> 0;
    }
}

function sfc32(a, b, c, d) {
    return function() {
      a >>>= 0; b >>>= 0; c >>>= 0; d >>>= 0; 
      var t = (a + b) | 0;
      a = b ^ b >>> 9;
      b = c + (c << 3) | 0;
      c = (c << 21 | c >>> 11);
      d = d + 1 | 0;
      t = t + d | 0;
      c = c + t | 0;
      return (t >>> 0) / 4294967296;
    }
}

function getsrand(str){
  // Create xmur3 state:
  var seed = xmur3(str);
  // Output four 32-bit hashes to provide the seed for sfc32.
  var rand = sfc32(seed(), seed(), seed(), seed());

  
  return rand;
  
}  

function getSizeObject(index){
  switch(index){
    case -12:
      return {type:"pool",unit:"",min:0,max:0,pool:["Impossibly small","The size of an atom","The size of an electron","Smaller then electrons","Smaller then quarks","Atom sized to an atom"]}
    case -11:
      return {type:"measure",unit:"nanometer",min:1,max:50, pool:[]}
    case -10:
      return {type:"measure",unit:"tenth of a millimeter",min:1,max:9, pool:[]}
    case -9:
      return {type:"measure",unit:"millimeter",min:1,max:9, pool:[]}
    case -8:
      return {type:"measure",unit:"centimeter",min:1,max:3, pool:[]}
    case -7:
      return {type:"measure",unit:"inch",min:1,max:2, pool:[]}
    case -6:
      return {type:"measure",unit:"inch",min:2,max:4, pool:[]}
    case -5:
      return {type:"measure",unit:"inch",min:4,max:5, pool:[]}
    case -4:
      return {type:"measure",unit:"inch",min:6,max:11, pool:[]}
    case -3:
      return {type:"measure",unit:"inch",min:12,max:23, pool:[]}
    case -2:
      return {type:"measure",unit:"foot",min:1,max:2, pool:[]}
    case -1:
      return {type:"measure",unit:"foot",min:2,max:4, pool:[]}
    case 0:
      return {type:"pool",unit:"",min:0,max:0,pool:["Human sized"]}
    
    case 1:
      return {type:"measure",unit:"foot",min:7,max:10, pool:[]}
    case 2:
      return {type:"measure",unit:"foot",min:10,max:30, pool:[]}
    case 3:
      return {type:"measure",unit:"foot",min:30,max:100, pool:[]}
    case 4:
      return {type:"measure",unit:"foot",min:100,max:500, pool:[]}
    case 5:
      return {type:"measure",unit:"foot",min:500,max:1000, pool:[]}
    case 6:
      return {type:"measure",unit:"foot",min:1000,max:5000, pool:[]}
    case 7:
      return {type:"measure",unit:"mile",min:1,max:10, pool:[]}
    case 8:
      return {type:"measure",unit:"mile",min:10,max:100, pool:[]}
    case 9:
      return {type:"pool",unit:"",min:0,max:0,pool:["The size of europe","The size of north america","Larger then all the continents","Larger then all the continents"]}
    case 10:
      return {type:"pool",unit:"",min:0,max:0,pool:["The size of earth","Larger then earth","Larger then the sun","The size of the sun","The size of jupiter","Larger then jupiter","The size of the moon","Larger then the moon","Larger then the solar system","The size of the solar system"]};
    case 11:
      return {type:"pool",unit:"",min:0,max:0,pool:["The size of the galaxy","Bigger then the galaxy"]};
    case 12:
      return {type:"pool",unit:"",min:0,max:0,pool:["The size of the universe","Bigger then the universe","Bigger then the multiverse","Bigger then the omniverse"]};
    default:
      return {type:"pool",unit:"",min:0,max:0,pool:["Invalid size error"]};
  }
}

 function getDisplaySizePrefrence(index){

  switch(index){
    case 0:
      return "Always smaller";
    case 1:
      return "Almost always smaller";
    case 2:
      return "Usually smaller";
    case 3:
      return "Fairly often smaller";
    case 4:
      return "Tiny leaning switch";
    case 5:
      return "50/50 switch";
    case 6:
      return "Big leaning switch";
    case 7:
      return "Fairly often bigger";
    case 8:
      return "Usually bigger";
    case 9:
      return "Almost always bigger";
    case 10:
      return "Always bigger";
    
  }
 }
 function getDisplaySize(index){
   
  
  switch(index){
    case -12:
      return "Impossibly small";
    case -11:
      return "1 nanometer";
    case -10:
      return "0.1 millimeter";
    case -9:
      return "1 millimeter";
    case -8:
      return "1 centimeter";
    case -7:
      return "1 inch";
    case -6:
      return "2 inches";
    case -5:
      return "4 inches";
    case -4:
      return "6 inches";
    case -3:
      return "1 foot";
    case -2:
      return "2 feet";
    case -1:
      return "4 feet";
    case 0:
      return "Human Size";
    case 1:
      return "10 feet";
    case 2:
      return "House size";
    case 3:
      return "Small building size";
    case 4:
      return "Skyscraper size";
    case 5:
      return "Largest building size";
    case 6:
      return "Above largest building size";
    case 7:
      return "Mountain size";
    case 8:
      return "City size";
    case 9:
      return "Continent size";
    case 10:
      return "Planet size";
    case 11:
      return "Galaxy size";
    case 12:
      return "Beyond the universe";
    default:
      return "invalid size ERROR";
   }
  }

  function constructSizeObject(sobj, rand){
    if(sobj.type == "measure"){
      var append = "";
      var num = Math.floor(rand()*(sobj.max-sobj.min+1))+sobj.min
      if(num > 1){
        if(sobj.unit == "foot"){
          sobj.unit = "feet";
        }
        if(sobj.unit == "inch"){
          append = "es";
        }
        if(sobj.unit == "tenth of a millimeter"){
          sobj.unit = "tenths of a millimeter"
        }
        if(sobj.unit == "centimeter" || sobj.unit == "millimeter" || sobj.unit == "nanometer" || sobj.unit == "mile"){
          append = "s";
        }
        
      }
      return num+" "+sobj.unit+append+" tall";
    }else{
      var ind = Math.floor(rand()*sobj.pool.length);
      return sobj.pool[ind];
    }

  }

  function resultPress(){
    //=======Get seed and generator======
    var rseedstr = "";
    var aname = document.getElementById("aname").value;
    var bname = document.getElementById("bname").value;
    rseedstr+=aname+bname;

    var today = new Date();
    var dd = String(today.getDate()).padStart(2, '0');
    var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!
    var yyyy = today.getFullYear();

    rseedstr+= mm + '/' + dd + '/' + yyyy;

    var srand = getsrand(rseedstr);
    
    //=======Determine who wins========
    var bigtie = false;
    var smalltie = false;


    var awon = false;
    var score = srand()*100;
    var avalue = parseInt(document.getElementById("asizemag").value);
    var bvalue = parseInt(document.getElementById("bsizemag").value);
    var aodds = 50+(avalue-bvalue)*5
    if(score < aodds){
      awon = true;
    }
    if(avalue == 10){
      if(bvalue == 10){
        bigtie = true;
      }else{
        awon = true;
      }
    }else{
      if(bvalue == 10){
        awon = false;
      }
    }

    if(avalue == 0){
      if(bvalue == 0){
        smalltie = true;
      }else{
        awon = false;
      }
    }else{
      if(bvalue == 0){
        awon = true;
      }
    }

    
    //======Determine who changes size
    var asizeobj = {a:0,b:0};//0 =  same size, 1 = grow, -1 = shrink
    var rolerandom = srand();
    if(awon){
      var ddoption = document.getElementById("awinselect").value;
      switch(ddoption){
        case "bshrink":
          asizeobj.b=-1;
        break;
        case "agrow":
          asizeobj.a=1;
        break;
        case "both":
          asizeobj.a=1;
          asizeobj.b=-1;
        break;
        case "random":
          if(rolerandom < 0.1){
            asizeobj.a = 1;
            asizeobj.b = -1;
          }else{
            if(rolerandom < 0.55){
              asizeobj.a = 1;
            }else{
              asizeobj.b = -1;
            }
          }
        break;
        
      }
    }else{
      var ddoption = document.getElementById("bwinselect").value;
      switch(ddoption){
        case "ashrink":
          asizeobj.a=-1;
        break;
        case "bgrow":
          asizeobj.b=1;
        break;
        case "both":
          asizeobj.b=1;
          asizeobj.a=-1;
        break;
        case "random":
          if(rolerandom < 0.1){
            asizeobj.b = 1;
            asizeobj.a = -1;
          }else{
            if(rolerandom < 0.55){
              asizeobj.b = 1;
            }else{
              asizeobj.a = -1;
            }
          }
        break;  
      }  
  }

  //=======Generate string=====
    var rstring = "";

    if(asizeobj.a == 1){
      var max = parseInt(document.getElementById("amaxbig").value);
      var min = parseInt(document.getElementById("aminbig").value);
      if(min == max){
        max+1;
      }
      if(min > max){
        var temp = min;
        min = max;
        max = temp;
      }
      var selection = Math.floor(srand()*(max-min))+min+1;
      selection*= 1;
      rstring += aname+" is "+constructSizeObject(getSizeObject(selection),srand)+"!<br>";
    }
    if(asizeobj.a == -1){
      var max = parseInt(document.getElementById("amaxsmall").value);
      var min = parseInt(document.getElementById("aminsmall").value);
      if(min == max){
        max+1;
      }
      if(min > max){
        var temp = min;
        min = max;
        max = temp;
      }
      var selection = Math.floor(srand()*(max-min))+min+1;
      selection*= -1;
      rstring += aname+" is "+constructSizeObject(getSizeObject(selection),srand)+"!<br>";
    }
    if(asizeobj.b == 1){
      var max = parseInt(document.getElementById("bmaxbig").value);
      var min = parseInt(document.getElementById("bminbig").value);
      if(min == max){
        max+1;
      }
      if(min > max){
        var temp = min;
        min = max;
        max = temp;
      }
      var selection = Math.floor(srand()*(max-min))+min+1;
      selection*= 1;
      rstring += bname+" is "+constructSizeObject(getSizeObject(selection),srand)+"!<br>";
    }
    if(asizeobj.b == -1){
      var max = parseInt(document.getElementById("bmaxsmall").value);
      var min = parseInt(document.getElementById("bminsmall").value);
      if(min == max){
        max+1;
      }
      if(min > max){
        var temp = min;
        min = max;
        max = temp;
      }
      var selection = Math.floor(srand()*(max-min))+min+1;
      selection*= -1;
      rstring += bname+" is "+constructSizeObject(getSizeObject(selection),srand)+"<!br>";
    }
    document.getElementById("resulttext").innerHTML = rstring;
    
  

 

  
  
  }
  
  
   
    
    //document.getElementById("namefield").innerHTML = myleahs.leahs[2].Name;

  </script>
<body onload="loadFunction()">



<h1>Size Oracle</h1>
<p>Enter your names, Role tendancies, and size preferences, and click See<br>
When the oracle makes a prediction the prediction is FIXED and will not be changed until the next day (for the given parameters).</p>

 <div class="row">
  <div class="column">Name: <input type="text" id="aname" ></br></br>
    Role tendancies: </br>
  <div><input type="range" min="0" max="10" value="5" class="slider" id="asizemag"><br>
  <span id="asizemagdisplay" style="text-align:center;"></span></div><br>
  When I win <select id="awinselect">
  <option value="bshrink">My oponent shrinks</option>
  <option value="agrow">I grow</option>
  <option value="both">I grow AND my oponent shrinks</option>
  <option value="random">Random</option>
</select><br><br>
Max size when big: <input type="range" min="1" max="12" value="12" class="slider" id="amaxbig"> <span id="amaxbigresult">600 feet</span><br>
Min size when big: <input type="range" min="0" max="11" value="0" class="slider" id="aminbig"> <span id="aminbigresult">600 feet</span><br>
<br>Max size when small: <input type="range" min="0" max="11" value="0" class="slider" id="amaxsmall"> <span id="amaxsmallresult">600 feet</span><br>
Min size when small: <input type="range" min="1" max="12" value="12" class="slider" id="aminsmall"> <span id="aminsmallresult">600 feet</span></div>

  
  <div class="column">Name: <input type="text" id="bname"></br></br>
  Role tendancies:  </br>
  <div><input type="range" min="0" max="10" value="5" class="slider" id="bsizemag"><br>
  <span id="bsizemagdisplay" style="text-align:center;"></span></div><br>
  When I win <select id="bwinselect">
  <option value="ashrink">My oponent shrinks</option>
  <option value="bgrow">I grow</option>
  <option value="both">I grow AND my oponent shrinks</option>
  <option value="random">Random</option>
</select><br><br>
Max size when big: <input type="range" min="1" max="12" value="12" class="slider" id="bmaxbig"> <span id="bmaxbigresult">600 feet</span><br>
Min size when big: <input type="range" min="0" max="11" value="0" class="slider" id="bminbig"> <span id="bminbigresult">600 feet</span><br>
<br>Max size when small: <input type="range" min="0" max="11" value="0" class="slider" id="bmaxsmall"> <span id="bmaxsmallresult">600 feet</span><br>
Min size when small: <input type="range" min="1" max="12" value="12" class="slider" id="bminsmall"> <span id="bminsmallresult">600 feet</span></div>
</div> 
<br><br><div style="text-align: center;"><button onclick="resultPress()">Ask Oracle</button><br>
<h1><span id="resulttext"></span></h1></div>



</body>
</html> 